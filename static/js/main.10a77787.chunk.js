(this.webpackJsonpchallenge=this.webpackJsonpchallenge||[]).push([[0],{154:function(e,t,a){e.exports=a(280)},159:function(e,t,a){},160:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(30),r=a.n(o),s=(a(159),a(16)),i=a(68),c=a(33),u=(a(160),a(48),a(287)),p=a(288),m=a(289);function g(){return l.a.createElement("div",null,l.a.createElement(u.a,null,l.a.createElement(p.a,{sm:12},l.a.createElement("h2",{style:{margin:"20px 0px",textAlign:"left",color:"#7F6A93",borderBottom:"0.5px solid #E8E8EA",paddingBottom:"20px"}},"Advertising Data ETL-V Challenge"))))}function d(e){return l.a.createElement("li",null,e.message,l.a.createElement("span",{style:e.styling},e.columns,"s"))}function f(e){for(var t={fontStyle:"italic"},a=[],n=0;n<e.dimensionsColumns.length;n++)a.push(l.a.createElement(d,{message:"Select zero to N ",columns:e.dimensionsColumns[n],styling:t,key:n}));return l.a.createElement("div",null,l.a.createElement(u.a,null,l.a.createElement(p.a,{sm:12},l.a.createElement("div",{style:{margin:"20px 0px",textAlign:"left",color:"#828282",fontSize:"15px",borderBottom:"0.5px solid #E8E8EA",paddingBottom:"20px"}},l.a.createElement("ul",{style:{paddingLeft:"20px"}},a),l.a.createElement("p",{style:{fontSize:"12px"}},'[where zero means "All"]'),l.a.createElement("p",null,'Hitting "Apply" filters the chart to show a timeseries for both'," ",l.a.createElement("span",{style:t},e.metricsColumns[0])," and"," ",l.a.createElement("span",{style:t},e.metricsColumns[1])," for given"," ",l.a.createElement("span",{style:t},e.dimensionsColumns[0],"s")," and"," ",l.a.createElement("span",{style:t},e.dimensionsColumns[1],"s")," - logical AND")))))}var h=a(31),E=a.n(h),v=a(129),y=a.n(v),C=a(18),b=a.n(C);function x(e){var t,a=e.coreData,n=e.filters,o=e.applyFilters,r=e.onClick,i=e.styling,c=function(e,t,a){var n=b.a.groupBy(e,"Date");console.log("filtere",t);for(var l=b.a.keys(n),o=[],r=[],s=0;s<l.length;s++){for(var i=0,c=0,u=0;u<n[l[s]].length;u++)if(1==a){console.log("filtr",t);var p=b.a.keys(t);console.log("uniqueFilterEntries",p);for(var m=[],g=0;g<p.length;g++)t[p[g]].includes(n[l[s]][u][p[g]])?(m.push(!0),console.log(t[p[g]]," includes ",n[l[s]][u][p[g]])):m.push(!1);console.log("conditionsCheck",m)}else i+=n[l[s]][u].Impressions,c+=n[l[s]][u].Clicks;o.push(i),r.push(c)}b.a.groupBy(e,"Campaign"),b.a.groupBy(e,"Datasource");return{chart:{type:"spline"},xAxis:{categories:l},yAxis:[{labels:{format:"{value}",style:{color:E.a.getOptions().colors[0]}},title:{text:"Clicks",style:{color:E.a.getOptions().colors[0]}},opposite:!1},{gridLineWidth:0,title:{text:"Impressions",style:{color:E.a.getOptions().colors[1]}},labels:{format:"{value}",style:{color:E.a.getOptions().colors[1]}},opposite:!0}],title:{text:"Datasources",align:"left"},series:[{name:"Clicks",data:r},{name:"Impressions",yAxis:1,data:o}]}}(a,n,o);return l.a.createElement("div",null,l.a.createElement(u.a,null,l.a.createElement(p.a,{sm:10},l.a.createElement("h2",{style:i},"Chart")),l.a.createElement(p.a,{sm:2},l.a.createElement("button",{type:"submit",style:(t={backgroundColor:"#8DA1B9",color:"white",borderRadius:"2px",width:"80px",padding:"5px 0px",position:"left",marginTop:"10px"},Object(s.a)(t,"position","absolute"),Object(s.a)(t,"right",0),Object(s.a)(t,"bottom",0),t)},l.a.createElement("span",{onClick:r},"Reset")))),l.a.createElement(y.a,{highcharts:E.a,options:c}))}var A=a(290);function k(e){var t=e.styling,a=e.filterColumns,o=e.onChange,r=e.dataSet,i=Object(n.useState)(),u=Object(c.a)(i,2),p=(u[0],u[1],[]),m=document.createElement("link");m.rel="stylesheet",m.href="https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css",document.head.appendChild(m);for(var g=0;g<a.length;g++){var d=D(a[g],r);p.push(l.a.createElement("div",null,l.a.createElement("p",{style:{textAlign:"left",color:"#828282",marginTop:"20px"}},a[g]),l.a.createElement(A.a,Object(s.a)({style:m,placeholder:a[g],fluid:!0,multiple:!0,selection:!0,options:d,onChange:o},"style",{marginTop:"5px"}))))}return l.a.createElement("div",null,l.a.createElement("h2",{style:t},"Filters"),p)}function D(e,t){for(var a=[],n=0;n<t.length;n++)a.includes(t[n][e])||a.push(t[n][e]);for(var l=[],o=0;o<a.length;o++){var r={key:a[o],text:a[o],value:a[o]};l.push(r)}return l}a(279);function O(e){var t=e.onClick;return l.a.createElement("button",{type:"submit",style:{backgroundColor:"#8DA1B9",color:"white",borderRadius:"2px",width:"80px",padding:"5px 0px",position:"left",marginTop:"10px"}},l.a.createElement("span",{onClick:t},"Apply"))}var j=function(){var e,t=Object(n.useState)([{Date:"01.01.2019",Datasource:"Facebook Ads",Campaign:"Offer Campaigns - Conversions",AdGroup:"A",Clicks:245,Impressions:764627},{Date:"01.01.2019",Datasource:"Google Adwords",Campaign:"B2B - Leads",AdGroup:"A",Clicks:7,Impressions:444},{Date:"01.01.2019",Datasource:"Google Adwords",Campaign:"GDN Prospecting - App - Prio 1 Offer",AdGroup:"B",Clicks:16,Impressions:12535},{Date:"20.01.2019",Datasource:"Google Adwords",Campaign:"GDN Prospecting - App - Prio 1 Offer",AdGroup:"A",Clicks:250,Impressions:10535}]),a=Object(c.a)(t,2),o=a[0],r=(a[1],Object(n.useState)([])),d=Object(c.a)(r,2),h=(d[0],d[1],Object(n.useState)({})),E=Object(c.a)(h,2),v=E[0],y=E[1],C=Object(n.useState)(!1),A=Object(c.a)(C,2),D=A[0],j=A[1],w={margin:"30px 0px",textAlign:"left",color:"#8DA1B9"},B=(e=o,Object.keys(e[0])),S=function(e){return b.a.sortBy(e,["Date","Datasource"])}(function(e){for(var t=[],a=0;a<e.length;a++){var n=Object(i.a)({},e[a]),l=e[a].Date,o=l.slice(6,10),r=l.slice(3,5),s=l.slice(0,2),c=new Date(o+"-"+r+"-"+s);n.Date=c,t.push(n)}return t}(o)),F=function(e,t){for(var a=[],n=0;n<t.length;n++){var l=t[n];b.a.isNumber(e[0][l])&&a.push(l)}return a}(S,B),G=function(e,t){for(var a=[],n=0;n<t.length;n++){var l=t[n];b.a.isString(e[0][l])&&a.push(l)}return a}(S,B);return function(e,t){for(var a=[],n=0;n<t.length;n++){var l=t[n];b.a.isDate(e[0][l])&&a.push(l)}}(S,B),console.log("useFilters",D),l.a.createElement("div",{className:"App"},l.a.createElement(m.a,null,l.a.createElement(g,null),l.a.createElement(f,{dimensionsColumns:G,metricsColumns:F}),l.a.createElement(u.a,null,l.a.createElement(p.a,{sm:4,style:{backgroundColor:"#EFF2F1"}},l.a.createElement(k,{styling:w,filterColumns:G,onChange:function(e,t){if(console.log("data.value",t.value),void 0===t.value||0==t.value){var a=Object(i.a)({},v);delete a[t.placeholder],y(a)}else{var n=Object(i.a)({},v),l=t.placeholder;n=Object.assign(n,Object(s.a)({},l,t.value)),y(n)}},dataSet:S}),l.a.createElement(O,{onClick:function(){j(!0)}}),l.a.createElement("p",null,"Selected values Datasource: ",v.Datasource),l.a.createElement("p",null,"Selected values Campaigns: ",v.Campaign)),l.a.createElement(p.a,{sm:8},l.a.createElement(x,{coreData:S,filters:v,applyFilters:D,onClick:function(){j(!1),y({})},styling:w})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[154,1,2]]]);
//# sourceMappingURL=main.10a77787.chunk.js.map