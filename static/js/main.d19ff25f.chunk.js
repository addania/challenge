(this.webpackJsonpchallenge=this.webpackJsonpchallenge||[]).push([[0],{154:function(e,a,t){e.exports=t(280)},159:function(e,a,t){},160:function(e,a,t){},279:function(e,a,t){},280:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),s=t(30),r=t.n(s),l=(t(159),t(16)),i=t(89),c=t(33),p=(t(160),t(48),t(287)),m=t(288),u=t(289);function g(){return o.a.createElement("div",null,o.a.createElement(p.a,null,o.a.createElement(m.a,{sm:12},o.a.createElement("h2",{style:{margin:"20px 0px",textAlign:"left",color:"#7F6A93",borderBottom:"0.5px solid #E8E8EA",paddingBottom:"20px"}},"Advertising Data ETL-V Challenge"))))}function d(e){return o.a.createElement("li",null,e.message,o.a.createElement("span",{style:e.styling},e.columns,"s"))}function C(e){for(var a={fontStyle:"italic"},t=[],n=0;n<e.dimensionsColumns.length;n++)t.push(o.a.createElement(d,{message:"Select zero to N ",columns:e.dimensionsColumns[n],styling:a,key:n}));return o.a.createElement("div",null,o.a.createElement(p.a,null,o.a.createElement(m.a,{sm:12},o.a.createElement("div",{style:{margin:"20px 0px",textAlign:"left",color:"#828282",fontSize:"15px",borderBottom:"0.5px solid #E8E8EA",paddingBottom:"20px"}},o.a.createElement("ul",{style:{paddingLeft:"20px"}},t),o.a.createElement("p",{style:{fontSize:"12px"}},'[where zero means "All"]'),o.a.createElement("p",null,'Hitting "Apply" filters the chart to show a timeseries for both'," ",o.a.createElement("span",{style:a},e.metricsColumns[0])," and"," ",o.a.createElement("span",{style:a},e.metricsColumns[1])," for given"," ",o.a.createElement("span",{style:a},e.dimensionsColumns[0],"s")," and"," ",o.a.createElement("span",{style:a},e.dimensionsColumns[1],"s")," - logical AND")))))}var f=t(31),A=t.n(f),D=t(129),h=t.n(D),v=t(20),E=t.n(v);function k(e){var a,t=e.coreData,n=e.filters,s=e.applyFilters,r=e.onClick,i=e.styling;console.log(t.Date),console.log(n),console.log(s);var c=function(e,a,t){var n=E.a.groupBy(e,"Date");console.log("groupByDate",n);var o=E.a.keys(n);console.log("uniqueDates",o);for(var s=[],r=[],l=0;l<o.length;l++){for(var i=0,c=0,p=0;p<n[o[l]].length;p++)console.log("dayEntry",l,"dataRow",p),i+=n[o[l]][p].Impressions,c+=n[o[l]][p].Clicks;s.push(i),r.push(c)}console.log("impressionsArray",s),console.log("clicksArray",r);var m=E.a.groupBy(e,"Campaign");console.log("groupByCampaign",m);var u=E.a.groupBy(e,"Datasource");return console.log("groupByDatasource",u),{chart:{type:"spline"},xAxis:{categories:o},yAxis:[{labels:{format:"{value}",style:{color:A.a.getOptions().colors[0]}},title:{text:"Clicks",style:{color:A.a.getOptions().colors[0]}},opposite:!1},{gridLineWidth:0,title:{text:"Impressions",style:{color:A.a.getOptions().colors[1]}},labels:{format:"{value}",style:{color:A.a.getOptions().colors[1]}},opposite:!0}],title:{text:"Datasources",align:"left"},series:[{name:"Clicks",data:r},{name:"Impressions",yAxis:1,data:s}]}}(t);return console.log("generatedOptions",c),o.a.createElement("div",null,o.a.createElement(p.a,null,o.a.createElement(m.a,{sm:10},o.a.createElement("h2",{style:i},"Chart")),o.a.createElement(m.a,{sm:2},o.a.createElement("button",{type:"submit",style:(a={backgroundColor:"#8DA1B9",color:"white",borderRadius:"2px",width:"80px",padding:"5px 0px",position:"left",marginTop:"10px"},Object(l.a)(a,"position","absolute"),Object(l.a)(a,"right",0),Object(l.a)(a,"bottom",0),a)},o.a.createElement("span",{onClick:r},"Reset")))),o.a.createElement(h.a,{highcharts:A.a,options:c}))}var y=t(290);function b(e){var a=e.styling,t=e.filterColumns,s=e.onChange,r=e.dataSet,i=Object(n.useState)(),p=Object(c.a)(i,2),m=(p[0],p[1],[]),u=document.createElement("link");u.rel="stylesheet",u.href="https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css",document.head.appendChild(u);for(var g=0;g<t.length;g++){var d=x(t[g],r);m.push(o.a.createElement("div",null,o.a.createElement("p",{style:{textAlign:"left",color:"#828282",marginTop:"20px"}},t[g]),o.a.createElement(y.a,Object(l.a)({style:u,placeholder:t[g],fluid:!0,multiple:!0,selection:!0,options:d,onChange:s},"style",{marginTop:"5px"}))))}return o.a.createElement("div",null,o.a.createElement("h2",{style:a},"Filters"),m)}function x(e,a){for(var t=[],n=0;n<a.length;n++)t.includes(a[n][e])||t.push(a[n][e]);for(var o=[],s=0;s<t.length;s++){var r={key:t[s],text:t[s],value:t[s]};o.push(r)}return o}t(279);function O(e){var a=e.onClick;return o.a.createElement("button",{type:"submit",style:{backgroundColor:"#8DA1B9",color:"white",borderRadius:"2px",width:"80px",padding:"5px 0px",position:"left",marginTop:"10px"}},o.a.createElement("span",{onClick:a},"Apply"))}var G=function(){var e,a=Object(n.useState)([{Date:"23.01.2019",Datasource:"Facebook Ads",Campaign:"Like Ads",AdGroup:"A",Clicks:274,Impressions:1979},{Date:"08.02.2019",Datasource:"Facebook Ads",Campaign:"Like Ads",AdGroup:"A",Clicks:274,Impressions:1979},{Date:"01.01.2019",Datasource:"Facebook Ads",Campaign:"Like Ads",AdGroup:"A",Clicks:274,Impressions:1979},{Date:"01.01.2019",Datasource:"Facebook Ads",Campaign:"Offer Campaigns - Conversions",AdGroup:"A",Clicks:245,Impressions:764627},{Date:"01.01.2019",Datasource:"Google Adwords",Campaign:"B2B - Leads",AdGroup:"A",Clicks:7,Impressions:444},{Date:"01.01.2019",Datasource:"Google Adwords",Campaign:"GDN Prospecting - App - Prio 1 Offer",AdGroup:"B",Clicks:16,Impressions:12535},{Date:"20.01.2019",Datasource:"Google Adwords",Campaign:"GDN Prospecting - App - Prio 1 Offer",AdGroup:"A",Clicks:250,Impressions:10535},{Date:"01.03.2019",Datasource:"Facebook Ads",Campaign:"Offer Campaigns - Conversions",AdGroup:"A",Clicks:245,Impressions:764627},{Date:"01.04.2019",Datasource:"Facebook Ads",Campaign:"Offer Campaigns - Conversions",AdGroup:"A",Clicks:245,Impressions:764627},{Date:"01.05.2019",Datasource:"Facebook Ads",Campaign:"Offer Campaigns - Conversions",AdGroup:"A",Clicks:245,Impressions:764627},{Date:"01.06.2019",Datasource:"Facebook Ads",Campaign:"Offer Campaigns - Conversions",AdGroup:"A",Clicks:245,Impressions:764627},{Date:"01.07.2019",Datasource:"Facebook Ads",Campaign:"Offer Campaigns - Conversions",AdGroup:"A",Clicks:245,Impressions:764627},{Date:"01.08.2019",Datasource:"Facebook Ads",Campaign:"Offer Campaigns - Conversions",AdGroup:"A",Clicks:245,Impressions:764627},{Date:"01.09.2019",Datasource:"Facebook Ads",Campaign:"Offer Campaigns - Conversions",AdGroup:"A",Clicks:245,Impressions:764627},{Date:"01.10.2019",Datasource:"Facebook Ads",Campaign:"Offer Campaigns - Conversions",AdGroup:"A",Clicks:245,Impressions:764627},{Date:"01.11.2019",Datasource:"Facebook Ads",Campaign:"Offer Campaigns - Conversions",AdGroup:"A",Clicks:245,Impressions:764627},{Date:"01.12.2019",Datasource:"Facebook Ads",Campaign:"Offer Campaigns - Conversions",AdGroup:"A",Clicks:245,Impressions:764627}]),t=Object(c.a)(a,2),s=t[0],r=(t[1],Object(n.useState)([])),d=Object(c.a)(r,2),f=(d[0],d[1],Object(n.useState)({})),A=Object(c.a)(f,2),D=A[0],h=A[1],v=Object(n.useState)(!1),y=Object(c.a)(v,2),x=y[0],G=y[1],F={margin:"30px 0px",textAlign:"left",color:"#8DA1B9"},I=(e=s,Object.keys(e[0])),j=function(e){return E.a.sortBy(e,["Date","Datasource"])}(function(e){for(var a=[],t=0;t<e.length;t++){var n=Object(i.a)({},e[t]),o=e[t].Date,s=o.slice(6,10),r=o.slice(3,5),l=o.slice(0,2),c=new Date(s+"-"+r+"-"+l);n.Date=c,a.push(n)}return a}(s)),w=function(e,a){for(var t=[],n=0;n<a.length;n++){var o=a[n];E.a.isNumber(e[0][o])&&t.push(o)}return t}(j,I),B=function(e,a){for(var t=[],n=0;n<a.length;n++){var o=a[n];E.a.isString(e[0][o])&&t.push(o)}return t}(j,I);return function(e,a){for(var t=[],n=0;n<a.length;n++){var o=a[n];E.a.isDate(e[0][o])&&t.push(o)}}(j,I),j[0].Date,j[1].Date,j[2].Date,j[3].Date,j[4].Date,o.a.createElement("div",{className:"App"},o.a.createElement(u.a,null,o.a.createElement(g,null),o.a.createElement(C,{dimensionsColumns:B,metricsColumns:w}),o.a.createElement(p.a,null,o.a.createElement(m.a,{sm:4,style:{backgroundColor:"#EFF2F1"}},o.a.createElement(b,{styling:F,filterColumns:B,onChange:function(e,a){var t=Object(i.a)({},D),n=a.placeholder;t=Object.assign(t,Object(l.a)({},n,a.value)),h(t)},dataSet:j}),o.a.createElement(O,{onClick:function(){G(!0)}}),o.a.createElement("p",null,"Selected values Datasource: ",D.Datasource),o.a.createElement("p",null,"Selected values Campaigns: ",D.Campaign)),o.a.createElement(m.a,{sm:8},o.a.createElement(k,{coreData:j,filters:D,applyFilters:x,onClick:function(){G(!1)},styling:F})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[154,1,2]]]);
//# sourceMappingURL=main.d19ff25f.chunk.js.map